{\rtf1\ansi\ansicpg1252\deff0\deflang1031{\fonttbl{\f0\fswiss\fcharset0 Arial;}{\f1\fswiss Arial;}{\f2\fmodern ;}{\f3\fswiss\fprq2 MS Sans Serif;}{\f4\fmodern\fprq1 Courier New;}{\f5\froman\fprq2\fcharset0 Times New Roman;}{\f6\fmodern\fprq1\fcharset0 Courier New;}{\f7\fnil\fcharset2 Symbol;}}
{\colortbl ;\red0\green176\blue0;\red0\green0\blue0;\red255\green0\blue0;\red0\green0\blue255;}
\viewkind4\uc1\pard\qc\cf1\b\f0\fs20 Tip: F3 = Datensatz bearbeiten 
\par \cf2\b0\f1 
\par \cf3\i\f0\fs36  allegro-\i0 Datenbank mit Unicode\f1  
\par \cf2\fs20 
\par \pard\qr\tx1704 `\cf4\ul\b Diese Datenbank wieder ganz beseitigen\cf2\ulnone\b0 `  
\par \pard\tx1704 
\par \pard\b\f0 Dieses Modell ist zum Lernen gedacht, aber auch als Start f\'fcr eigene Projekte:\b0\f1 
\par 
\par \pard{\pntext\f7\'B7\tab}{\*\pn\pnlvlblt\pnf7\pnindent720{\pntxtb\'B7}}\fi-720\li720\f0 Es zeigt, welche Dateien eine Datenbank braucht und was diese als Minimum enthalten m\'fcssen. \f1 
\par \f0{\pntext\f7\'B7\tab}Man kann es direkt als Ausgangspunkt f\'fcr ein eigenes Projekt nehmen, indem man die Dateien Schritt f\'fcr Schritt ausbaut. Daf\'fcr gibt es ein bequemes `\cf4\ul\b Bearbeitungsmenue\cf2\ulnone\b0 ` (Button 7 dr\'fccken!) \f1 
\par \pard\f0\'b7\f1\tab 
\par \f0 Damit der zweite Punkt erf\'fcllt werden kann, enthalten die Dateien etwas mehr als das absolute Minimum, und alles ist entsprechend kommentiert. 
\par \pard\qr\tx1704\cf1\b Dieser Text kommt, wenn man unten auf das Fragezeichen dr\'fcckt\cf2\f2   \b0\f1 
\par \pard 
\par \cf3\f0 ACHTUNG\cf2 : Bearbeitung nur mit Button 3 (\cf3 Alt+3\cf2 ). Anzeige von Unicode ist links im Auswahlfeld nicht m\'f6glich, auch nicht im Eingabefeld unten und in den Formularfeldern, Index und Ergebnislisten. Nur in diesem Anzeigefeld erscheinen die "richtigen" Zeichen. (Mit F5 Umschalten auf interne Anzeige, wie immer.)\f1 
\par \f0 Dateneingabe und -bearbeitung kann aber per Browser erfolgen mit a35 (http://www.allegro-c.de/doku/a35).\f1 
\par 
\par Der Name dieser Datenbank ist \b\f0 dat\f1 . \b0\f0 Der Name einer neuen Datenbank kann zwar frei gew\'e4hlt werden, empfohlen wird aber, da\'df er aus maximal 4 Zeichen besteht, und zwar nur Kleinbuchstaben. Damit vermeidet man alle Probleme, die evtl. beim Kopieren zwischen verschiedenen Systemen vorkommen k\'f6nnen.\f1 
\par \f0 Alle Dateinamen sind vollst\'e4ndig klein zu schreiben, in den Namen d\'fcrfen au\'dfer dem Bindestrich keine Sonderzeichen und keine Leerzeichen vorkommen. Empfohlen wird, die 8.3-Konvention einzuhalten: Dateiname bis zu 8 Zeichen, Erweiterung bis zu 3 Zeichen. Mit diesen Regeln geht man jedem unn\'f6tigen \'c4rger von vornherein aus dem Weg, und durch l\'e4ngere Namen bzw. Gro\'df-/Kleinschreibung k\'f6nnte man ohnehin nichts gewinnen. \f1 
\par 
\par \b Liste der Dateien und ihre Bedeutung \f0  \f1 
\par \pard\tx3976\b0\f3\fs18 %=x `var B`ins #uvF`var D`ins #uvP%zur Datenbank  \cf3\b\f4\fs20 %#uvF \cf2\b0 auf\cf3\b  %#uvP\cf2\b0\f5    \f0 (\f1 `\cf4\ul\b\f0 Datenbankordner besichtigen\cf2\ulnone\b0\f1 `\f0 )\f1  \b 
\par \pard\b0 Die mit den \cf3 roten Namen\cf2\f0  sind die eigentlichen Datenbankdateien. Alle anderen sind Textdateien, die editiert werden k\'f6nnen, die roten jedoch nicht! \f1 
\par \b 
\par \pard\fi-1704\li1704\tx1704\b0\f4 `\cf4\ul\b\f6 dat\f4 .ini\cf2\ulnone\b0 `\f1\tab\b Einstellungen\b0\f0  : Das Programm (a99) liest diese Datei beim Start und wei\'df dann die wichtigsten Einzelheiten \'fcber die Datenbank.\f1 
\par \pard\tx1704 
\par \pard\fi-1704\li1704\tx1704\f0  `\cf4\ul\b\f6 $adat.cfg\ulnone `\cf2\b0\f1\tab\b Konfiguration\b0 sdatei: Liste der Felder, die ein Datensatz haben kann, u.a.\f0 , also Angaben \'fcber die innere Struktur der Datenbank. Hier kann man neue Datenfelder definieren, wenn man mit den vorhandenen nicht auskommt. Dateien, die hiervon abh\'e4ngen, haben ein \cf3\b\f1 a\cf2\b0  i\f0 m Dateityp\f1 : .\cf3 a\cf2 ld, .\cf3 a\cf2 dx, .\cf3 a\cf2 pr ... \f0 
\par \pard\tx1704                              \f1 
\par \f4 `\cf4\ul\b dat.frm\cf2\ulnone\b0 `\f1\tab\b Formular\b0\f0 datei (Formulare f\'fcr die Dateneingabe und -bearbeitung) \f1 
\par \f4 `\cf4\ul\b dat.api\cf2\ulnone\b0 `\f1\tab\b Index-Parameter\b0 : Welche Felder sollen in welchem Register erscheinen? 
\par \pard\fi-1704\li1704\tx1704\f0\tab Was in den Registern steht und wie es aussieht, wird in dieser Datei festgelegt.\f1  \f0 Mit F7 kann man jederzeit sehen, was die Vorschriften in dieser Datei aus einem Datensatz machen. In diese Datei kann man neue Vorschriften f\'fcr das Indexieren einbauen, d.h. neue Registereintr\'e4ge definieren, die man zus\'e4tzlich gerne h\'e4tte.\f1 
\par \pard\tx1704\f4 
\par \tab\f1 Der Name\f0  \f1  \cf4\b\f6 dat\cf2\b0\f1  \f0  bildet auch den Hauptteil der\f1  Namen der Datenbankdateien:\f4 
\par \cf3  \cf4\f6 dat\cf3\f4 _1.ald\cf2\f1\tab\b Daten\b0\f0 datei (enth\'e4lt die Daten, die man eingegeben hat) \f1 
\par \tab die anderen entstehen automatisch\f0  und k\'f6nnen rekonstruiert werden (Men\'fc "Reorganisieren")\f1 : 
\par \pard\fi-1704\li1704\tx1704\cf3\f4  \cf4\f6 dat\cf3\f4 .adx\cf2\f1\tab\b Index\b0\f0 datei (enth\'e4lt die automatisch entstehenden Register, wie in dat.api vorgeschrieben) \f1 
\par \pard\tx1704\cf3\f4  \cf4\f6 dat\cf3\f4 .tbl\cf2\f1\tab\b Adressen\b0\f0 tabelle (Positionen der S\'e4tze in den Dateien) \f1 
\par \pard\fi-1704\li1704\tx1704\cf3\f4  \cf4\f6 dat\cf3\f4 .stl\cf2\f1\tab\b Kurztitel\b0\f0 datei (f\'fcr Ergebnislisten, 1 Zeile je Datensatz; ebenfalls in dat.api vorgeschrieben) \f1 
\par \cf3\f6  \cf4 dat\cf3\f4 .\f6 res\cf2\f1\tab\b\f0 Restriktions\b0 datei (Zum Einschr\'e4nken der Suche nach Ersch.Jahr, s. gleichfalls dat.api) \f1 
\par \pard\tx1704\f4 
\par \pard\fi-1704\li1704\tx1704 `\cf4\ul\b d-1.apr\cf2\ulnone\b0 `\f1\tab\b Anzeige\b0 parameter \b DOS\b0 : Wie sollen die Daten im DOS-Programm angezeigt werden?\f0  [historisch, nicht mehr auf Win'7/64]\f1  
\par 
\par \f4 `\cf4\ul\b d-sutf.apr\cf2\ulnone\b0  `\f1\tab\b Anzeige\b0 parameter \f0 allg. Teil (mit UTF-8):\f1  Wie sollen die Daten in a99 angezeigt werden? 
\par \f0\tab Wenn man einen Datensatz in diesem Anzeigefeld sieht, wird das Bild von den Vorschriften erzeugt, die in dieser Datei stehen.\f1 
\par \f4 `\cf4\ul\b d-s.apt\cf2\ulnone\b0 `\f1\tab\b\f0 Spezifischer Teil der Anzeigeparameter\b0\f1 : W\f0 elche Felder in welcher Weise\f1 ? 
\par \pard\tx1704\f4 
\par `\cf4\ul\b p-w.apr\cf2\ulnone\b0   `\f1\tab\b Druck\b0\f0 parameter : Wie sollen Datens\'e4tze im Normalfall gedruckt werden? \f1 
\par \pard\fi-1704\li1704\tx1704\f4 `\cf4\ul\b e-w.apr\cf2\ulnone\b0    `\f1\tab\b Export\b0\f0 parameter : F\'fcr Download der Daten im Internformat? \f1 
\par \f4 
\par `\cf4\ul\b\f6 iu\f4 .ap\f6 t\cf2\ulnone\b0\f4 `\f1\tab\f0 Unicode.Zeichentabelle f\'fcr Index, eingebunden in  \cf4\f6 dat.api\cf2\f0 . 
\par \tab Darin steht, was f\'fcr ein lateinischer Buchstabe einem Unicode-Zeichen zugeordnet werden soll, z.B. ein \b b\b0  f\'fcr das kyrillische \b\u1041?\b0 , Dies ist gedacht f\'fcr den Index, in dem ein Durcheinander von lateinischen und anderen Schriften nicht sinnvoll geordnet werden k\'f6nnte. Diese Datei mu\'df man erweitern, will man weitere nichtlateinische Schriften im Index automatisch transliterieren.\f1 
\par \pard\tx1704 
\par \pard\fi-1704\li1704\tx1704\f0 Folgende drei Dateien sind eingebunden in die Anzeigeparameter  \cf4\ul\b\f6 d-sutf\f4 .ap\f6 t\cf2\ulnone\b0\f0 
\par \pard\tx1704  \f1 
\par \pard\fi-1704\li1704\tx1704\f4 `\cf4\ul\b\f6 utf-rtf\f4 .ap\f6 t\cf2\ulnone\b0\f4 `\f1\tab\f0 Unicode.Zeichentabelle. 
\par \tab Darin steht, was f\'fcr ein RTF-Code einem Unicode-Zeichen zugeordnet werden soll, damit es in der a99-Anzeige korrekt erscheint.\f1 
\par \pard\tx1704\f4 
\par \pard\fi-1704\li1704\tx1704 `\cf4\ul\b\f6 d-rtff\f4 .ap\f6 t\cf2\ulnone\b0\f4 `\f1\tab\f0 RTF-Schriftattribute f\'fcr das Anzeigefeld. 
\par \tab Darin stehen geeignete Steuerzeichenfolgen f\'fcr die wichtigsten Schriftattribute.\f1 
\par \pard\tx1704\f4 
\par \pard\fi-1704\li1704\tx1704 `\cf4\ul\b\f6 o\f4 .ap\f6 t\cf2\ulnone\b0\f4 `\f1\tab\f0 Umcodierung  ASCII <-> ANSI (Standard-Tabelle) 
\par \tab Wirkt sich auf die UTF-8-Codes nicht aus\f1 
\par \pard\tx1704\f4 
\par `\cf4\b\f6 _s\f4 tart.flx\cf2\b0 `\f1\tab FLEX-Makro, das beim \b Start\b0\f0  automatisch ausgef\'fchrt wird. 
\par  \f1 
\par \f4 `\cf4\b dat.rtf\cf2\b0 `\f1\tab Dieser Hilfetext. Erscheint beim \f0 Kli\f1 ck auf das \b Fragezeichen\b0  
\par 
\par \f0 Au\'dferdem gibt es noch ein paar `\cf4\ul\b\f1 Tabellen\cf2\ulnone\b0\f0 ` f\'fcr die Umwandlung der Zeichen zwischen interner und externer Darstellung bzw. f\'fcr den Index. Diese Tabellen sind Dateien mit dem Typ \b\f1 .apt\b0\f0 . Man braucht sie normalerweise nicht zu ver\'e4ndern. \f1 
\par 
\par ?Bearbeitungsmenue=h adm 
\par ?dat.ini=X iniedit 
\par ?$adat.cfg=X cfgedit 
\par ?dat.frm=X formedit 
\par ?dat.api=X iparedit 
\par ?d-sutf.apr =X aparedit 
\par ?d-s.apt=h d-s.apt  
\par ?p-w.apr  =X dparedit 
\par ?e-w.apr   =x var D "e-w.apr"`help 
\par ?utf-rtf.apt=x var "utf-rtf.apt"`help 
\par ?d-rtff.apt=x var "d-rtff.apt"`help 
\par ?o.apt=x var "o.apt"`help 
\par ?dat.rtf=h dat.rtf 
\par ?_start.flx=x var D "_start.flx"`help 
\par ?d-1.apr=x var D "d-1.apr"`help 
\par ?Tabellen=x var "*." K1 "pt"\\ins #uwz\\exec X param.flx 
\par ?Diese Datenbank wieder ganz beseitigen=x var "Dazu brauchen Sie nur den Ordner " D " zu löschen!"`mes  
\par ?allegro-OstWest-Code=h char 
\par ?Datenbankordner besichtigen=x #uvv  d\\exec X dosfile.flx 
\par 
\par }
 