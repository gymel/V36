{\rtf1\ansi\ansicpg1250\deff0\deflang1031{\fonttbl{\f0\fswiss\fprq2 Arial;}{\f1\fnil Courier New;}{\f2\fmodern\fprq1 Courier New;}{\f3\fmodern\fprq1\fcharset0 Courier New;}{\f4\froman\fprq2 Times New Roman;}{\f5\fmodern\fprq1\fcharset238{\*\fname Courier New;}Courier New CE;}{\f6\fnil\fcharset0 Courier New;}}
{\colortbl ;\red255\green0\blue0;\red0\green0\blue255;}
\viewkind4\uc1\pard\qc\cf1\b\i\f0\fs32 allegro for Windows\i0\par
Adaptation\cf0\b0\f1\fs20\par
\pard\par
\fs24 This describes what to do if you already have one or more \b\i allegro\b0\i0  databases running under DOS.\par
If not, and if you are going to use standard parameters only, this text is not for you.\par
Consult the `\cf2\ul\b file checklist\cf0\ulnone\b0 ` if you want to know what files have to be dealt with in an \b\i allegro\b0\i0  environment!\par
\par
To adapt for the Windows programs, no changes are necessary in the data, just a few minor changes in the setup files.\fs20\par
\par
\par
\b\fs22 We recommend ...\b0\par
... to install the TTF fonts on every PC intended to use \b\i alcarta\b0\i0  or \b\i a99\b0\i0  . \par
These are the files \f2 a-times.ttf\f1  und \f2 a-letter.ttf\f1  . The latter is a non-proportional font for index and result list displays.\par
There is also \f2 a-arial.ttf\f1  as an  alternative to \f2 a-times.ttf\f1  for the display window.\par
The software package may reside on a server and can be started from there, \b but\b0  the fonts, by their nature, have to be installed locally on a PC. Lacking the fonts, some `\cf2\ul\b Special characters\cf0\ulnone\b0 ` will appear wrong. Everything else will be ok.\par
If you use the complete installation package (Febr. 2001 or later) many things will already be configured in the standard way described in the handbook. Some extra information for the DOS "Classico" programs can be found in  `\cf2\ul\b Chap.0.10\cf0\ulnone\b0 `. \par
\par
\b If you have absolutely no time to lose\b0\par
klick on "Catalog your own databases" on the start screen of the \b DEMO database\b0 . The demobase will then also act as a system manager's platform for your existing databases. The program will then search and catalog all \b\i allegro\b0\i0  databases on any of your disks, after which each of them can be used with a99 right away. A skeleton INI is produced which may be upgraded later.\par
If you have databases that do not use the standard configuration, the most difficult job will be the adaptation of your display parameters, for this cannot be automated. More about that see below.\par
\par
A `\cf2\ul\b Checklist\cf0\ulnone\b0 ` lists all important files that may have to be looked after during installation.\par
\par
There is also an `\cf2\ul\b Overview\cf0\ulnone\b0 ` of allegro related files in your system.\par
\par
\par
\b Make your database fit for \i a99 \b0\i0\par
\par
First thing you need is an INI file. Make a copy of \b `\cf2\ul A99.INI\cf0\ulnone ` \b0 and then adapt the copy. If your database's name is \b base\b0 , then call the INI file  \b\f2 base.ini\b0\f1  and place it on the database directory, for example \b\f2 c:\\allegro\\catalog\par
\b0\f1 In this case, start a99 using this command:\par
\b\f2\tab c:\\allegro\\a\f3 llegro\f2   c:\\allegro\\catalog\\base\par
\b0\f3 You can use this for a desktop icon. The program \b allegro.exe\b0  in fact starts the \b a99.exe\b0 , but first looks if there is a new version of it by the name of \b aktuell.exe\b0 , resulting from a recent upgrade. If so, this one is copied onto a99.exe first, if at all possible, or else aktuell.exe will be started itself.\f1\par
\par
\par
\b\f0 Step by Step\b0\f1\par
\b\par
Beispiel:\par
\b0\par
Generally, you will have a database with the following attributes (for the boldface names, insert your own names):\par
\f2 Configuration      \tab\b K\b0           Default: \tab A\par
Database          \tab\b XYZ\b0                 \tab CAT\par
Directory        \tab\b D:\\DATA\b0              \tab C:\\ALLEGRO\\DEMO\par
Display parameter   \tab\b D-A99.KPR\b0            \tab D-WRTF.APR\par
\f1\par
The necessary steps are the following:\par
\par
\b\f4\fs26 0. INI File \b0\fs22     \f1 (make a copy of  \b a99.ini\b0 )\par
\par
This file lists all commands and is commented. \par
As a minimum, you need these lines:\par
\par
\f2 [General]   \fs16 <-- \i don't omit this!\i0\fs22\par
Konfiguration=\b k\b0      \f4 (default: a)\f2\par
DbName=\b xyz\b0           \f4 Name of your database (= Name of index parameter file)\f2\par
DbDir=\b d:\\data\b0        \f4 where the database resides:\f2\par
\f1          if the INI itself resides on d:\\data, this line is redundant!\par
\f2 DisplayParameter=\b D-A99\b0\par
    \f4 and there may be different display parameters for \i alcarta\i0 : \par
\tab (default for both is d-wrtf)\f2\par
OpacDisplay=\b d-a99\b0\par
\f1\par
\par
\b\fs26 1. IndexParameter\fs22\par
\b0 With every database xyz, you already have a file  \b xyz.kpi\b0  ! It will be either on the data path or on the program path.\par
This file must have the following sections in order for a99 to run properly (some may already exist)\par
\par
\b 1.1 Symbolic index names for the find command\b0\par
    One line each for every index to be used in a99, and one for every "restriction" (if there are any)\par
    The schema is this: (There may be more symbolic indexes than real ones!)\par
    e.g.,  (see examples in \b CAT.API\b0 )\par
    An index name looks like this:\par
\b\f5 I PER 1 "Personal names"\b0\f1\par
    A restriction looks like this:\par
\b\f2 R DAT r1 "Date of publication"\par
\b0\f1 Lacking such lines, the find menu will have no index choices to present.\par
\par
\b 1.2 Headlines of indexes, title display and result set lists\b0\par
\par
    These are the lines beginning with a  |  , e.g.,  (see CAT.API)\par
\b\f2 |1="1 : Name index"\par
\b0\f1\par
\par
\b\f4 1.3 Code table ASCII<->ANSI\b0\f1\par
    optional:\par
\b\f2 to  \b0\f1    command to load the O.APT (done by default if this line is lacking!)\par
    is needed for correct display of indexes and result sets\par
\par
You have to draw up a table like \b\f2 o.kpt\b0\f1  yourself, if your database does \i not\i0  use the \i allegro\i0  extended font based on the  PC 437 character list. (see comments in o.apt) To prevent  \b\f2 o.apt\b0\f1   from being loaded by default, provide an empty o.apt instead.\par
\par
\par
\fs28 2. Auxiliary tables\fs22\par
\par
\f2 d.kpt       \f4 ASCII->ANSI for record display (Copy of d.apt)\f2\par
o.kpt       \f4 ASCII<->ANSI for index and result list etc. (Copy of o.apt)\f2\par
d-rtf.kpt   \f4 RTF attributes (bold, italics, colors etc.)\f2\par
e-w.kpr     \f4 for export in internam format (copy of e-w0.apr)\f2\par
p-w.kpr     \f4 for export in list format (if needed)\f2\par
\f1             (as a minimum, you may    \f2 copy p-w0.apr p-w.kpr )\par
\f1\par
\b Minimum:\b0\par
Make copies of  d.apt, o.apt, d-rtf.apt, p-w0.apr and e-w0.apr  and place them on your data path (the files contain comments).\par
\par
\par
\fs28 3. Display parameters  D-A99.KPR  (default  D-WRTF.KPR)\fs22\par
If there is no such file, D-W0.APR will be used! This will generate just a tagged display. If you want more:\par
Make a copy of your D-1.KPR (= the DOS display parameters) and add the following parts:\par
\par
\b 3.1 Basic parameters\par
\b0\f2    \f4 Add these lines:\f2\par
    zm=0\par
    zl=80   mehr oder weniger\par
    fl=0\par
    dx=1\par
      ke=""  \f1 avoid this command (has no effect in  DOS anyway)\par
\par
\b 3.2 Tables\b0\par
    At the end of the file, add these lines: (no spaces at left margin!)\par
\f2     td-rtf      RTF-Attribute\par
    td          Tabelle ASCII -> ANSI\par
    to\tab\tab\f3 Tabelle o.apt f\'fcr Auswahlfeld und Schreibfeld\f2\par
\f1\par
\b 3.3 Section for alternative display: (by F5 or via Menu "View")\b0\par
    Place these lines any line containing  #+# : (no spaces at left margin!)\par
\f2     #-(\par
    #t\{ s0 &0 #4 \}   \f4 oor 5 instead of 4 if tags are 3 characters!\par
\f2     ## \par
    #t\{ C \}\par
    #+#\par
\f1\par
\b\par
3.4 Text elements\b0\par
\par
If these contain umlauts or accented characters (p... or P...) they will come out wrong.\par
\i Fix:\i0  replace the special characters in such places by their ANSI counterparts.\par
For example, if you have a line\par
\f2\par
\f3 19="\'dcbersetzer: "\f1\par
\par
\f6 then for the \'dc (= ASCII 154) insert ANSI code 220 \f1\par
\par
\par
\b 3.5 Fonts\par
\b0\par
If you want a columnated display, you cannot use a proportional font. \par
In this case, add a line\par
\par
\f2 as="  \\f2 "\f1\par
\par
which will select a Courier-line font as the display font.\par
In DISPHEAD.RTF , the fonts to be used can be configured and then be applied in the display by inserting commands of type  "\f2\\fn \f1 " .\par
\par
\b 4. Configuration\b0\par
Your file $K.CFG or K.CFG can likely remain unaltered. With very large configurations (like Pica) the values of the commands md, mb and mP may have to be set higher than for the DOS-System. If you have, in your CFG:\par
\par
\f2 md150\par
mb200\par
mP2000\par
\f1\par
then change this to:\par
\par
\b\f2 md300\par
mb500\par
mP5000\par
\f1\par
Prompt lists\b0  do work in a99, but loops for multiple fields present a problem. We recommend to configure a  `\cf2\ul\b Forms file\cf0\ulnone\b0 ` instead and use the options available for multi-fields in the forms concept. \b\par
\par
\par
5. Help files\b0\par
\par
are described in  `\cf2\ul\b HELP.RTF\cf0\ulnone\b0 `\par
For your database, you should at least have one additional help file:\par
\par
\f2 DbNameENG.RTF\f1     use Wordpad to create it (make a copy of CATENG.RTF of the demobase)\par
\par
\f2 HA_InENG\f1        ASCII files for your indexes n=1..9\par
Hnnn \tab\tab Help texts for the input functions, #nnn = field tag.\par
\i Tip:\i0  If \b h123\b0   doesn't exist, the program searches for \b h12\b0 , and not finding this either, for \b h1\b0 . So, you can at first do help files  H0, ... H9  only, for the field groups #0XX - #9XX , and make more help files for single fields as the need is felt.\par
\par
\par
\b 6. Menu addition (for experts)\b0\par
\par
It is possible to add another function to the main menu.\par
In the INI file, add:\par
\par
\f2 MyMenu=\b Abc\b0\par
MyFLEX=\b xyz\b0\par
\f1\par
\b\f2 Abc\f1  \b0 is the menu title, for example "SuperFunction", \b\f2 xyz\b0\f1  is the FLEX call, like  \b\f2 X super\b0\f1 .\par
\par
\par
?HELP.RTF=h help\par
?Special characters=h char\par
?a99.ini=h a99.ini\par
?Chap.0.10=h ac0-10\par
?Forms file=h form\par
?Overview=X files\par
?Checklist=h flisteng.txt\par
?file checklist=h flisteng.txt\par
\par
\par
}
 